<!DOCTYPE html>
<head>
    <script src="assets/wasm/sql-wasm.js"></script>

    <script src="./src/api/linker.js"></script>
    <script src="./src/index.js"></script>
    <script src="./src/utils/database_utils.js"></script>

    <link
        rel="stylesheet"
        type="text/css"
        href="./assets/css/custom-cs16.css"
    />
    <link
        rel="stylesheet"
        type="text/css"
        href="./assets/css/emily-so-stylish.css"
    />
</head>
<body style="padding: 1%">
    <div
        id="character-panel"
        style="display: flex; gap: 10px"
        class="display-panel"
    >
        <div id="character-selection">
            <label
                class="cs-select__label"
                for="character-dropdown"
                style="flex-direction: column; display: flex"
                >Character:</label
            >
            <select
                class="cs-select"
                name="character"
                id="character-dropdown"
                style="padding-right: 10px"
            >
                <option disabled selected value="">-- Select --</option>
                <option value="Elesyth">Elesyth</option>
            </select>
        </div>

        <div
            id="character-level-div"
            style="display: flex; align-items: center; gap: 10px"
        >
            <div class="cs-slider" id="character-level-slider">
                <div class="value">
                    <p>1</p>
                    <p>20</p>
                </div>
                <div class="ruler"></div>
                <input
                    id="character-level-range"
                    type="range"
                    min="1"
                    max="20"
                    value="20"
                />
                <label for="character-level-range">Character Level:</label>
            </div>
            <!-- <span id="current-value" style="padding-left: 10px">20</span> -->
            <input
                style="width: 25px"
                class="cs-input"
                id="current-value"
                type="input"
                value="20"
            />
            <script>
                const slider = document.getElementById("character-level-range");
                const currentValue = document.getElementById("current-value");

                slider.addEventListener("input", () => {
                    currentValue.value = slider.value;
                    loadCharacter();
                });

                currentValue.addEventListener("change", () => {
                    slider.value = currentValue.value;
                    loadCharacter();
                });

                const dropdown = document.getElementById("character-dropdown");

                dropdown.addEventListener("change", () => {
                    const disp = document.getElementById("result-location");
                    loadCharacter();
                    disp.classList.remove("disabled");
                });
            </script>
        </div>
    </div>

    <div
        class="display-panel disabled"
        id="result-location"
        style="margin-top: 10px"
    ></div>
</body>
